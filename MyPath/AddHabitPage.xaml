<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="MyPath.AddHabitPage"
             Title="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÑƒ"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <ScrollView>
        <VerticalStackLayout Padding="16" Spacing="20">

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <Label Text="ÐÐ¾Ð²Ð°Ñ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°" 
                   TextColor="White"
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />

            <!-- ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ -->
            <VerticalStackLayout Spacing="8">
                <Label Text="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸ *" 
                       TextColor="#FFFFFF99"
                       FontSize="14"/>
                <Entry x:Name="TitleEntry"
                       Placeholder="ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Ð§Ð¸Ñ‚Ð°Ñ‚ÑŒ ÐºÐ½Ð¸Ð³Ñƒ"
                       PlaceholderColor="#666666"
                       TextColor="White" />
            </VerticalStackLayout>

            <!-- ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ -->
            <VerticalStackLayout Spacing="8">
                <Label Text="ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ (Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾)" 
                       TextColor="#FFFFFF99"
                       FontSize="14"/>
                <Editor x:Name="DescriptionEditor"
                        Placeholder="ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ¹ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸..."
                        PlaceholderColor="#666666"
                        TextColor="White"
                        HeightRequest="80"/>
            </VerticalStackLayout>

            <!-- ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ -->
            <VerticalStackLayout Spacing="8">
                <Label Text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ñ" 
                       TextColor="#FFFFFF99"
                       FontSize="14"/>
                <Picker x:Name="CategoryPicker"
                        Title="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑŽ"
                        TextColor="White"/>
            </VerticalStackLayout>

            <!-- Ð¦Ð²ÐµÑ‚ -->
            <VerticalStackLayout Spacing="8">
                <Label Text="Ð¦Ð²ÐµÑ‚ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ¸" 
                       TextColor="#FFFFFF99"
                       FontSize="14"/>
                <FlexLayout x:Name="ColorsContainer" 
                           Wrap="Wrap" 
                           JustifyContent="Start"
                           AlignItems="Start"/>
            </VerticalStackLayout>

            <!-- Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ -->
            <Border BackgroundColor="#1E1E1E" 
                    Stroke="#666666"
                    StrokeShape="RoundRectangle 8">
                <VerticalStackLayout>
                    <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ñ… Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº -->
                    <Grid Padding="16" 
                          ColumnDefinitions="*,Auto"
                          BackgroundColor="Transparent">
                        <Label Grid.Column="0"
                               Text="Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"
                               TextColor="White"
                               FontSize="16"
                               FontAttributes="Bold"/>
                        <Label x:Name="ExpandCollapseIcon"
                               Grid.Column="1"
                               Text="â–¶"
                               TextColor="#FFFFFF99"
                               FontSize="16"
                               VerticalOptions="Center"/>
                    </Grid>

                    <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ñ… Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº (ÑÐºÑ€Ñ‹Ñ‚ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ) -->
                    <VerticalStackLayout x:Name="AdvancedSettingsContent" 
                                 IsVisible="False"
                                 Spacing="16"
                                 Padding="16,0,16,16">

                        <!-- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ -->
                        <BoxView HeightRequest="1" 
                                 Color="#666666" 
                                 HorizontalOptions="Fill"/>

                        <!-- Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ (Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ) -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ (Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾)" 
                                   TextColor="#FFFFFF99"
                                   FontSize="14"/>
                            <Grid ColumnDefinitions="*,Auto">
                                <Border Grid.Column="0"
                                        BackgroundColor="#1E1E1E"
                                        Padding="12"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8">
                                    <Label x:Name="DurationLabel"
                                           Text="ÐÐµ Ð·Ð°Ð´Ð°Ð½Ð¾"
                                           TextColor="#FFFFFF99"
                                           FontSize="16"/>
                                </Border>
                                <Button Grid.Column="1"
                                        Text="â±ï¸"
                                        BackgroundColor="#666666"
                                        TextColor="White"
                                        WidthRequest="48"
                                        HeightRequest="48"
                                        CornerRadius="24"
                                        FontSize="16"
                                        Margin="10,0,0,0"
                                        Clicked="OnDurationClicked"/>
                            </Grid>
                        </VerticalStackLayout>

                        <!-- ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ðµ - Ð´Ð½Ð¸ Ð½ÐµÐ´ÐµÐ»Ð¸ -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ñ‚ÑŒ Ð² Ð´Ð½Ð¸:" 
                                   TextColor="#FFFFFF99"
                                   FontSize="14"/>

                            <!-- Ð”Ð½Ð¸ Ð½ÐµÐ´ÐµÐ»Ð¸ -->
                            <Grid ColumnDefinitions="*,*,*,*,*,*,*" 
                                  ColumnSpacing="8"
                                  RowSpacing="8">

                                <Border x:Name="MondayBorder"
                                        Grid.Column="0"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="ÐŸÐ½" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                                <Border x:Name="TuesdayBorder"
                                        Grid.Column="1"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="Ð’Ñ‚" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                                <Border x:Name="WednesdayBorder"
                                        Grid.Column="2"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="Ð¡Ñ€" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                                <Border x:Name="ThursdayBorder"
                                        Grid.Column="3"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="Ð§Ñ‚" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                                <Border x:Name="FridayBorder"
                                        Grid.Column="4"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="ÐŸÑ‚" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                                <Border x:Name="SaturdayBorder"
                                        Grid.Column="5"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="Ð¡Ð±" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                                <Border x:Name="SundayBorder"
                                        Grid.Column="6"
                                        BackgroundColor="#2E2E2E"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8"
                                        Padding="8">
                                    <Label Text="Ð’Ñ" 
                                           TextColor="#FFFFFF99"
                                           HorizontalOptions="Center"
                                           FontSize="12"/>
                                </Border>

                            </Grid>

                            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð²Ñ‹Ð±Ð¾Ñ€Ð° Ð²ÑÐµÑ…/Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ -->
                            <Grid ColumnDefinitions="*,*" 
                                  ColumnSpacing="8"
                                  Margin="0,8,0,0">
                                <Button Grid.Column="0"
                                        Text="Ð’ÑÐµ Ð´Ð½Ð¸"
                                        BackgroundColor="#666666"
                                        TextColor="White"
                                        FontSize="12"
                                        HeightRequest="32"
                                        Clicked="OnSelectAllDaysClicked"/>
                                <Button Grid.Column="1"
                                        Text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ"
                                        BackgroundColor="#666666"
                                        TextColor="White"
                                        FontSize="12"
                                        HeightRequest="32"
                                        Clicked="OnClearDaysClicked"/>
                            </Grid>

                            <!-- Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñ -->
                            <Grid ColumnDefinitions="*,Auto" 
                                  ColumnSpacing="8"
                                  Margin="0,8,0,0">
                                <Border Grid.Column="0"
                                        BackgroundColor="#1E1E1E"
                                        Padding="12"
                                        Stroke="#666666"
                                        StrokeShape="RoundRectangle 8">
                                    <Label x:Name="ReminderTimeLabel"
                                           Text="Ð’Ñ€ÐµÐ¼Ñ: 09:00"
                                           TextColor="#FFFFFF99"
                                           FontSize="14"/>
                                </Border>
                                <Button Grid.Column="1"
                                        Text="ðŸ•’"
                                        BackgroundColor="#666666"
                                        TextColor="White"
                                        WidthRequest="48"
                                        HeightRequest="48"
                                        CornerRadius="24"
                                        FontSize="16"
                                        Clicked="OnReminderTimeClicked"/>
                            </Grid>

                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </VerticalStackLayout>

                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnAdvancedSettingsTapped"/>
                </Border.GestureRecognizers>
            </Border>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
                <Button Grid.Column="0"
                        Text="ÐžÑ‚Ð¼ÐµÐ½Ð°"
                        BackgroundColor="#666666"
                        TextColor="White"
                        Clicked="OnCancelClicked"/>
                <Button Grid.Column="1"
                        Text="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"
                        BackgroundColor="#FF5E5E"
                        TextColor="White"
                        Clicked="OnSaveClicked"/>
            </Grid>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>