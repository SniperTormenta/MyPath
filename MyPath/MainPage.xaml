<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="MyPath.MainPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Name="ThisPage">

    <Grid RowDefinitions="Auto,*,Auto,Auto">

        <!-- Header -->
        <Border Grid.Row="0" 
               BackgroundColor="#121212C8" 
               Padding="16"
               Stroke="Transparent">
            <Grid>
                <Label Text="Путь Самурая" 
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       TextColor="White"
                       FontSize="20"
                       FontAttributes="Bold"/>
            </Grid>
        </Border>

        <!-- Main Content -->
        <ScrollView Grid.Row="1" Padding="16">
            <VerticalStackLayout Spacing="24">

                <!-- Day Progress -->
                <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                    <Label Text="День 0" 
                           TextColor="White" 
                           FontSize="32"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>
                    <Label x:Name="ProgressLabel"
                           Text="Прогресс за сегодня: 0%" 
                           TextColor="#FFFFFF99"
                           HorizontalOptions="Center"/>

                    <!-- Progress Bar -->
                    <Border BackgroundColor="#1E1E1E" 
                           HeightRequest="10"
                           Padding="0"
                           Stroke="Transparent"
                           StrokeShape="RoundRectangle 5">
                        <BoxView x:Name="ProgressBox"
                                 Color="#7EC6FF" 
                                 WidthRequest="0"
                                 HorizontalOptions="Start"/>
                    </Border>
                </VerticalStackLayout>

                <!-- Habits List -->
                <VerticalStackLayout x:Name="HabitsContainer" Spacing="16">
                    <!-- Привычки будут добавляться динамически -->
                </VerticalStackLayout>

                <!-- Empty State -->
                <VerticalStackLayout x:Name="EmptyState" 
                             IsVisible="False"
                             Spacing="16"
                             HorizontalOptions="Center"
                             VerticalOptions="Center">
                    <Label Text="📝" 
                           FontSize="48"
                           HorizontalOptions="Center"/>
                    <Label Text="Пока нет привычек" 
                           TextColor="#FFFFFF99"
                           FontSize="18"
                           HorizontalOptions="Center"/>
                    <Label Text="Добавьте первую привычку, нажав на кнопку ниже" 
                           TextColor="#666666"
                           FontSize="14"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>

                <!-- Quote -->
                <Label Text="&quot;Путь в тысячи километров начинается с одного шага.&quot;" 
                       TextColor="#FFFFFF99"
                       FontSize="18"
                       FontAttributes="Italic"
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"/>

            </VerticalStackLayout>
        </ScrollView>

        <!-- Add Button -->
        <Button Grid.Row="2"
                Text="+"
                BackgroundColor="#FF5E5E"
                TextColor="White"
                WidthRequest="64"
                HeightRequest="64"
                CornerRadius="32"
                FontSize="32"
                HorizontalOptions="End"
                Margin="16"
                VerticalOptions="End"
                Clicked="OnAddHabitClicked"/>

        <!-- Bottom Navigation -->
        <Grid Grid.Row="3" 
              BackgroundColor="#121212C8"
              ColumnDefinitions="*,*,*"
              HeightRequest="60">

            <!-- Home -->
            <Border Grid.Column="0" 
                    BackgroundColor="Transparent"
                    Stroke="Transparent">
                <VerticalStackLayout Spacing="4"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center">
                    <Label Text="🏠" 
                           FontSize="20"
                           HorizontalOptions="Center"/>
                    <Label Text="Главная" 
                           TextColor="#7EC6FF"
                           FontSize="12"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Border>

            <!-- Statistics -->
            <Border Grid.Column="1" 
                    BackgroundColor="Transparent"
                    Stroke="Transparent">
                <VerticalStackLayout Spacing="4"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center">
                    <Label Text="📊" 
                           FontSize="20"
                           HorizontalOptions="Center"/>
                    <Label Text="Статистика" 
                           TextColor="#FFFFFF99"
                           FontSize="12"
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>

                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnStatisticsTapped"/>
                </Border.GestureRecognizers>
            </Border>

            <!-- Profile -->
            <Border Grid.Column="2" 
                    BackgroundColor="Transparent"
                    Stroke="Transparent">
                <VerticalStackLayout Spacing="4"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center">
                    <Label Text="👤" 
                           FontSize="20"
                           HorizontalOptions="Center"/>
                    <Label Text="Профиль" 
                           TextColor="#FFFFFF99"
                           FontSize="12"
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>

                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnProfileTapped"/>
                </Border.GestureRecognizers>
            </Border>

        </Grid>

    </Grid>
</ContentPage>